@model ContactsManagement.Areas.Admin.Models.UserModel

@{
    ViewData["Title"] = "Chi tiết người dùng";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0" style="font-weight: 700; color: #343a40;">Hồ sơ người dùng</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="/Admin/Dashboard">Trang chủ</a></li>
                    <li class="breadcrumb-item"><a asp-action="Index">Người dùng</a></li>
                    <li class="breadcrumb-item active">Chi tiết</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <div class="row justify-content-center">

            <div class="col-md-8">

                <div class="card" style="border-radius: 15px; box-shadow: 0 0 20px rgba(0,0,0,0.05); border: none;">
                    <div class="card-body box-profile pt-3 pb-3">

                        <div class="text-center mb-3">
                            <div style="width: 80px; height: 80px; background: #e0f2f1; color: #087f5b; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 32px; margin: 0 auto; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
                                @(Model.FullName?.Substring(0, 1).ToUpper() ?? "U")
                            </div>
                            <h3 class="profile-username text-center mt-2" style="font-weight: 700; color: #343a40; font-size: 1.5rem;">@Model.FullName</h3>
                            <p class="text-muted text-center mb-1">Thành viên hệ thống</p>
                        </div>

                        <ul class="list-group list-group-unbordered mb-3 px-4">
                            <li class="list-group-item" style="border-bottom: 1px solid #f0f0f0; padding: 10px 0;">
                                <b style="color: #6c757d;">User ID</b>
                                <span class="float-right text-dark font-weight-bold">#@Model.UserId</span>
                            </li>

                            <li class="list-group-item" style="border-bottom: 1px solid #f0f0f0; padding: 10px 0;">
                                <b style="color: #6c757d;">Email</b>
                                <span class="float-right text-dark">@Model.Email</span>
                            </li>

                            <li class="list-group-item" style="border-bottom: 1px solid #f0f0f0; padding: 10px 0;">
                                <b style="color: #6c757d;">Tổng số danh bạ</b>
                                <a class="float-right">
                                    @if (Model.TotalContacts > 0)
                                    {
                                        <span class="badge badge-info" style="background-color: #17a2b8; font-size: 0.85rem; padding: 5px 10px;">@Model.TotalContacts</span>
                                    }
                                    else
                                    {
                                        <span class="badge badge-light border" style="font-size: 0.85rem; padding: 5px 10px;">0</span>
                                    }
                                </a>
                            </li>

                            <li class="list-group-item" style="border-bottom: 1px solid #f0f0f0; padding: 10px 0;">
                                <b style="color: #6c757d;">Trạng thái</b>
                                <a class="float-right">
                                    @if (Model.IsActive)
                                    {
                                        <span class="badge bg-teal" style="background-color: #20c997 !important; font-size: 0.85rem; padding: 5px 10px;">
                                            Đang hoạt động
                                        </span>
                                    }
                                    else
                                    {
                                        <span class="badge badge-danger" style="font-size: 0.85rem; padding: 5px 10px;">Đã khóa</span>
                                    }
                                </a>
                            </li>

                            <li class="list-group-item" style="border-bottom: none; padding: 10px 0;">
                                <b style="color: #6c757d;">Ngày tham gia</b>
                                <span class="float-right text-dark">@Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</span>
                            </li>
                        </ul>

                        <div class="text-center pb-3">
                            <a asp-action="Index" class="btn btn-secondary px-4 py-2"
                               style="border-radius: 8px; font-weight: 500; border: none; min-width: 180px; margin-right: 20px;">
                                <i class="fas fa-arrow-left mr-1"></i> Quay lại
                            </a>

                            <a asp-controller="Contacts" asp-action="Index" asp-route-userId="@Model.UserId"
                               class="btn btn-primary px-4 py-2"
                               style="border-radius: 8px; font-weight: 500; border: none; min-width: 180px; background: #20c997;">
                                <i class="fas fa-address-book mr-1"></i> Xem danh bạ
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>